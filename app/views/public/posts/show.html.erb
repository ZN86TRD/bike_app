<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <h2>投稿詳細</h2>
      <div class="card shadow-sm p-4 mt-3">
        <div class="text-center mb-4">
          <% if @post.image.attached? %>
            <%= image_tag @post.image.variant(resize_to_limit: [600, 400]).processed, class: "img-fluid rounded shadow-sm" %>
          <% else %>
            <%= image_tag 'no_image.jpg', size: "400x300", class: "img-fluid rounded shadow-sm" %>
          <% end %>
        </div>

        <h4><%= @post.title %></h4>
        <p class="mt-3" style="white-space: pre-wrap;"><%= @post.body %></p>
        <p class="text-muted text-right">投稿者: <%= @post.user.name %></p>
        
        <div class="mt-4 d-flex">
          <% if @post.user == current_user %>
            <%= link_to "編集する", edit_post_path(@post), class: "btn btn-success mr-2" %>
            <%= button_to "削除する", post_path(@post), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger" %>
          <% end %>
          <%= link_to "一覧へ戻る", posts_path, class: "btn btn-outline-secondary ml-2" %>
        </div>
      </div>
    </div>
  </div>
</div>
